\begin{center}
\lstset{language=viper}
\begin{minipage}{1\textwidth}
\begin{lstlisting}

\end{lstlisting}  
\end{minipage}
\captionof{code}{Simple example program.}
\end{center}